#------------------------------------------------------------------------------
# Описание (Краткое)
#------------------------------------------------------------------------------
# Отправка сообщений по событию. Суть программы это проверка бекапов. Все
# события относятся к файловой системе. Это существование
# файла или группы файлов, по точному соотвествию или маске.
#
# TODO Переписать описание
# TODO Сделать exe Арихив

#------------------------------------------------------------------------------
# Типы триггеров
#------------------------------------------------------------------------------

# События это подготовленный триггер
# На текущий момент есть события
# GTEDateModifyTrigger (Триггер по дате изменения. Больше n - дней )
# AllCopiesGTEOlderTriggerOrNotExists (Триггер по дате изменения группы файлов)
# FileNotExistsTrigger (Файла не сществует)
# FileExistsTrigger (Файл существует)
# AllWaysTrueTrigger (Тригер на запуск приложения)
# RegularExpressionFolderOrFileNotExits (
#    Не найдено файла или подкаталога , в каталоге по регулярному вырожению )
# RegularExpressionFolderOrFileExits (
#    Найден файла или подкаталога , в каталоге по регулярному вырожению )
# FirstFileLogOrderByDayItemFoundTrigger (
#    Найдено вырожение в файле, который первый(последний) в списке по маске)
# FirstFileLogOrderByDayItemNotFoundTrigger (
#    Не найдено вырожение в файле, который первый(последний) в списке по маске)
# LTEBaitInFirstDayOrderedFileTrigger (
#    В первовом(последненем) файле, отфильтрованным по маске,
#    меньше или равно байт )

#------------------------------------------------------------------------------
# Сообщения (Рекомендация)
#------------------------------------------------------------------------------
# Для отправки сообщений используется SMTP.
# В заголоовк идет параметр  project_name
# Рекомендую указывать
# message_title = ИМЯ ПРОЕКТА ИМЯ КОМПЬЮТЕРА ТИП СОБЫТИЯ
# message_body = ОПИСАНИЕ И ССЫЛКА НА ДОСТУП
#
# from_address = n@u-c.su (Почта отправителя)
# to_address = n@u-c.su (Почта получателя)
# SMTP_host = mail.u-c.su (smpt host почты)
# SMTP_port = 587 (smtp port почты )
# password = PASS (Пароль)


#------------------------------------------------------------------------------
# Описание параметров триггера (общие свойства)
#------------------------------------------------------------------------------
# Все задачи становятся активными после того как их имя и опция созданы
# В секции active_task
#   [active_task]
#   task4 = task4
# Точное соотвествие имени опции в active_task, будет искаться
# как самостоятельная секция.
#
# Секция состоит из имени (типа) триггера.
#   [task4]
#   trigger_type = GTEDateModifyTrigger (Тип тирггера)
#
# Заголовок и тело сообщения
#   message_title = SPL (Заголовок почты)
#   message_body = BACK UP IS NOT WORKING!!! (Тело сообщения)
#
# Общие настройки почты
#   from_address = nalimovn@u-c.su ()
#   to_address = nalimovn@u-c.su
#   SMTP_host = mail.u-c.su
#   SMTP_port = 587
#   password = 4O5i76C9


#------------------------------------------------------------------------------
# Описание параметров триггера (GTDateModifyTrigger)
#------------------------------------------------------------------------------
# Отправлять сообщения если дата измений больше n-дней
# older_days = Максимальное количество дней до срабатываения триггера
# path = C:\Users\admin\Desktop\ (Путь до католога)
# file_name = вв.txt (Имя файла)

#------------------------------------------------------------------------------
# Описание параметров триггера (FileNotExistsTrigger)
#------------------------------------------------------------------------------
# Отправлять сообщения если файла не существует
# path = C:\Users\admin\Desktop\ (Путь до католога)
# file_name = вв.txt (Имя файла)

#------------------------------------------------------------------------------
# Описание параметров триггера (FileExistsTrigger)
#------------------------------------------------------------------------------
# Отправлять сообщения если файл существует
# path (Путь до католога)
# file_name (Имя файла)

#------------------------------------------------------------------------------
# Описание параметров триггера (RegularExpressionFolderOrFileNotExits)
#------------------------------------------------------------------------------
# Отправлять сообщения если файл или каталог не существуют
# path = (Путь до католога)
# mask= (Маска файла или подкаталога)

#------------------------------------------------------------------------------
# Описание параметров триггера (RegularExpressionFolderOrFileExits)
#------------------------------------------------------------------------------
# Отправлять сообщения если файл или каталог существуют
# path = (Путь до католога)
# mask= (Маска файла или подкаталога)

#------------------------------------------------------------------------------
# Описание параметров триггера (AllCopiesGTEOlderTriggerOrNotExists)
#------------------------------------------------------------------------------
# Отправлять сообщения, если у группы файлов, выбраных по маске отсуствует
# дата изменения больше n-дней. (Или не сущесвует)
# Например резервный копии хранятся в одной папке.
#
# path - путь до католога с архивом
# mask - маска для поиска
# older_days - (Больше чем n-дней)

#------------------------------------------------------------------------------
# Описание параметров триггера (FirstFileLogOrderByDayItemFoundTrigger)
#------------------------------------------------------------------------------
# Отправлять сообщения, если найден текст в файле
# path = (пусть до каталога)
# file_log_mask = (ограничитель для поиска в файлов)
# mask_item (искомый текст (^ERR.+$|.+Ошибок:\s[^0].+))
# order (тип очереди ASC или DESC )

#------------------------------------------------------------------------------
# Описание параметров триггера (FirstFileLogOrderByDayItemNotFoundTrigger)
#------------------------------------------------------------------------------
# Отправлять сообщения, если не найден текст в файле
# path  (пусть до каталога)
# file_log_mask (ограничитель для поиска в файлов)
# mask_item (искомый текст (^ERR.+$|.+Ошибок:\s[^0].+))
# order (тип очереди ASC или DESC )

#------------------------------------------------------------------------------
# Описание параметров триггера ( LTEBaitInFirstDayOrderedFileTrigger)
#------------------------------------------------------------------------------
# Отправлять сообщения, если не найден текст в файле
# path (путь до калога)
# file_log_mask (ограничитель для поиска в файлов)
# lte_baits = 93300 (Порог срабатывания триггера)
# order (тип очереди)

#------------------------------------------------------------------------------
# Описание параметров триггера (AllWaysTrueTrigger)
#------------------------------------------------------------------------------
# Отправлять сообщения при запуске программы


#------------------------------------------------------------------------------
# Использование, примеры и описание
#------------------------------------------------------------------------------
# 1) Для продолжения удалить scel из расширения файла
# 2) Ниже даны примеры и описание. Их нужно прочитать
# 3) Настроить задания под себя
# 4) Составить описание

# отправка сообщений sistyle

[active_task]
task1 = LTEBaitInFirstDayOrderedFileTrigger


[проверка LTEBaitInFirstDayOrderedFileTrigger]

path = C:\Users\admin\Desktop\
file_log_mask  = да\s20.+
lte_baits = 93300
order = DESC

trigger_type = LTEBaitInFirstDayOrderedFileTrigger

message_title = LTEBaitInFirstDayOrderedFileTrigger
message_body = В самом новом файле бекапа мало байт !!!

from_address = nalimovn@u-c.su
to_address = nalimovn@u-c.su
smtp_host = mail.u-c.su
smtp_port = 587
password = 4O5i76C9
